var formSwitch=document.querySelector(".housing-search-switch"),form=document.querySelector(".housing-search-form"),fieldDateArrival=form.querySelector("input[name=date-arrival]"),fieldDateDeparture=form.querySelector("input[name=date-departure]"),isStorageSupported=!0,dateArrival="",dateDeparture="";try{dateArrival=localStorage.getItem("dateArrival"),dateDeparture=localStorage.getItem("dateDeparture")}catch(e){isStorageSupported=!1}form.classList.toggle("housing-search-form-js-toggle"),formSwitch.addEventListener("click",function(e){e.preventDefault(),form.classList.toggle("housing-search-form-js-toggle"),form.classList.contains("housing-search-form-js-toggle")||(fieldDateArrival.focus(),dateArrival&&(fieldDateArrival.value=dateArrival),dateDeparture&&(fieldDateDeparture.value=dateDeparture))}),form.addEventListener("submit",function(e){isStorageSupported&&(fieldDateArrival.value&&localStorage.setItem("dateArrival",fieldDateArrival.value),fieldDateDeparture.value&&localStorage.setItem("dateDeparture",fieldDateDeparture.value))});
